import{o as e}from"./vendor.70696f60.js";import{c as t,a as o,s as n}from"./utils.29f73a53.js";const a=document.querySelector("#modal"),r=document.querySelector("#modal span"),s=document.querySelector("#canvas"),c=document.querySelector("#num-points"),l=document.querySelector("#num-points-value"),i=document.querySelector("#point-size"),d=document.querySelector("#point-size-value"),u=document.querySelector("#opacity"),m=document.querySelector("#opacity-value"),p=document.querySelector("#click-lasso-initiator"),v=document.querySelector("#reset"),y=document.querySelector("#export"),f=document.querySelector("#example-performance-mode");f.setAttribute("class","active"),f.removeAttribute("href");let g=[],S=2e7,h=.25,M=.33,b=[];const q=e((function(){self.onmessage=function(e){const t=e.data;try{let e=[];const o=.2,n=t/100;for(let t=0;t<10;t++)for(let a=0;a<10;a++){const r=a*o-1,s=t*o-1,c=[];for(let e=0;e<n;e++)c.push([r+Math.random()*o,s+Math.random()*o,Math.round(Math.random()),Math.random()]);e=e.concat(c.sort(((e,t)=>e[0]-t[0]||e[1]-t[1])))}self.postMessage({points:e})}catch(o){self.postMessage({error:o})}}})),L=t({canvas:s,lassoMinDelay:10,lassoMinDist:2,pointSize:h,showReticle:!0,performanceMode:!0,lassoInitiator:!0});o(L),y.addEventListener("click",(()=>n(L))),console.log(`Scatterplot v${L.get("version")}`),L.subscribe("select",(({points:e})=>{if(console.log("Selected:",e),b=e,1===b.length){const e=g[b[0]];console.log(`X: ${e[0]}\nY: ${e[1]}\nCategory: ${e[2]}\nValue: ${e[3]}`)}})),L.subscribe("deselect",(()=>{console.log("Deselected:",b),b=[]}));const E=e=>{var t,o;t=`Hang tight. Generating ${(S/1e6).toFixed(1)} million points...`,a.style.display="flex",r.textContent=t,S=e,c.value=S,l.innerHTML=S,(o=S,new Promise(((e,t)=>{q.onmessage=o=>{o.data.error?t(o.data.error):e(o.data.points)},q.postMessage(o)}))).then((e=>{g=e,L.draw(g),a.style.display="none",r.textContent=""}))};c.addEventListener("input",(e=>{l.innerHTML=+e.target.value+" <em>release to redraw</em>"}));c.addEventListener("change",(e=>E(+e.target.value)));const x=e=>{h=e,i.value=h,d.innerHTML=h,L.set({pointSize:h})};i.addEventListener("input",(e=>x(+e.target.value)));const $=e=>{M=e,u.value=M,m.innerHTML=M,L.set({opacity:M})};u.addEventListener("input",(e=>$(+e.target.value)));p.addEventListener("change",(e=>{L.set({lassoInitiator:e.target.checked})})),p.checked=L.get("lassoInitiator");v.addEventListener("click",(()=>{L.reset()}));L.set({colorBy:"value",pointColor:["#002072","#162b79","#233680","#2e4186","#394d8d","#425894","#4b649a","#5570a1","#5e7ca7","#6789ae","#7195b4","#7ba2ba","#85aec0","#90bbc6","#9cc7cc","#a9d4d2","#b8e0d7","#c8ecdc","#ddf7df","#ffffe0"]}),x(h),$(M),E(S);
