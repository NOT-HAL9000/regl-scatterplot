import{c as e,a as t,s as n}from"./utils.9260f931.js";import{C as a,D as o,E as r,F as c}from"./vendor.ad595088.js";const l=document.querySelector("#parent-wrapper"),s=document.querySelector("#canvas-wrapper"),i=document.querySelector("#canvas"),d=document.querySelector("#num-points"),u=document.querySelector("#num-points-value"),p=document.querySelector("#point-size"),m=document.querySelector("#point-size-value"),y=document.querySelector("#opacity"),g=document.querySelector("#opacity-value"),v=document.querySelector("#click-lasso-initiator"),S=document.querySelector("#reset"),h=document.querySelector("#export"),b=document.querySelector("#example-axes");b.setAttribute("class","active"),b.removeAttribute("href");const w=a().domain([0,42]),f=a().domain([0,4.2]),q=r(w),L=c(f),E=o(l).append("svg"),k=E.append("g"),z=E.append("g");E.node().style.position="absolute",E.node().style.top=0,E.node().style.left=0,E.node().style.width="100%",E.node().style.height="100%",E.node().style.pointerEvents="none",s.style.right="40px",s.style.bottom="20px";let{width:M,height:$}=s.getBoundingClientRect();k.attr("transform",`translate(0, ${$})`).call(q),z.attr("transform",`translate(${M}, 0)`).call(L),q.tickSizeInner(-$),L.tickSizeInner(-M);let x=[],I=1e5,C=2,H=.5,T=[];const A=e({canvas:i,pointSize:C,xScale:w,yScale:f,showReticle:!0,lassoInitiator:!0});t(A),h.addEventListener("click",(()=>n(A))),console.log(`Scatterplot v${A.get("version")}`),A.subscribe("select",(({points:e})=>{if(console.log("Selected:",e),T=e,1===T.length){const e=x[T[0]];console.log(`X: ${e[0]}\nY: ${e[1]}\nCategory: ${e[2]}\nValue: ${e[3]}`)}})),A.subscribe("deselect",(()=>{console.log("Deselected:",T),T=[]})),A.subscribe("view",(e=>{k.call(q.scale(e.xScale)),z.call(L.scale(e.yScale))})),A.subscribe("init",(()=>{k.call(q.scale(A.get("xScale"))),z.call(L.scale(A.get("yScale")))}),1);const B=()=>{({width:M,height:$}=s.getBoundingClientRect()),k.attr("transform",`translate(0, ${$})`).call(q),z.attr("transform",`translate(${M}, 0)`).call(L),q.tickSizeInner(-$),L.tickSizeInner(-M)};window.addEventListener("resize",B),window.addEventListener("orientationchange",B);const R=e=>{I=e,d.value=I,u.innerHTML=I,x=new Array(I).fill().map((()=>[2*Math.random()-1,2*Math.random()-1,Math.round(9*Math.random()),Math.random()])),A.draw(x)};d.addEventListener("input",(e=>{u.innerHTML=+e.target.value+" <em>release to redraw</em>"}));d.addEventListener("change",(e=>R(+e.target.value)));const j=e=>{C=e,p.value=C,m.innerHTML=C,A.set({pointSize:C})};p.addEventListener("input",(e=>j(+e.target.value)));const D=e=>{H=e,y.value=H,g.innerHTML=H,A.set({opacity:H})};y.addEventListener("input",(e=>D(+e.target.value)));v.addEventListener("change",(e=>{A.set({lassoInitiator:e.target.checked})})),v.checked=A.get("lassoInitiator");S.addEventListener("click",(()=>{A.reset()})),A.set({colorBy:"category",pointColor:["#d192b7","#6fb2e4","#eecb62","#56bf92","#dca237","#3a84cc","#c76526"]}),j(C),D(H),R(I);
