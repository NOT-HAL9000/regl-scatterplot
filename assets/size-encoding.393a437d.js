import{c as e,a as t,s as o}from"./utils.65df8bc0.js";import{c as r,r as a}from"./d3.475b3665.js";import"./vendor.de749451.js";const n=document.querySelector("#canvas"),c=document.querySelector("#num-points"),i=document.querySelector("#num-points-value"),s=document.querySelector("#point-size"),l=document.querySelector("#point-size-value"),u=document.querySelector("#opacity"),d=document.querySelector("#opacity-value"),m=document.querySelector("#click-lasso-initiator"),p=document.querySelector("#reset"),y=document.querySelector("#export"),v=document.querySelector("#example-size-encoding");v.setAttribute("class","active"),v.removeAttribute("href");let h=[],g=1e5,M=2,S=1,f=[];const q=e({canvas:n,lassoMinDelay:10,lassoMinDist:2,pointSize:M,showReticle:!0,reticleColor:[1,1,.878431373,.33],lassoInitiator:!0,opacityInactiveScale:.66});t(q),y.addEventListener("click",(()=>o(q))),console.log(`Scatterplot v${q.get("version")}`),q.subscribe("select",(({points:e})=>{if(console.log("Selected:",e),f=e,1===f.length){const e=h[f[0]];console.log(`X: ${e[0]}\nY: ${e[1]}\nCategory: ${e[2]}\nValue: ${e[3]}`)}})),q.subscribe("deselect",(()=>{console.log("Deselected:",f),f=[]}));const L=a(2),b=a(4),w=a(5),E=e=>{g=e,c.value=g,i.innerHTML=g,h=(e=>{const t=[...new Array(Math.round(2*e/12)).fill().map((()=>[2*Math.random()*1/3-1,2*Math.random()-1,0,L()])),...new Array(Math.round(4*e/12)).fill().map((()=>[2/3-1+2*Math.random()*1/3,2*Math.random()-1,1,b()])),...new Array(Math.round(6*e/12)).fill().map((()=>[4/3-1+2*Math.random()*1/3,2*Math.random()-1,2,w()]))],[o,r]=t.reduce((([e,t],o)=>[Math.min(e,o[3]),Math.max(t,o[3])]),[1/0,-1/0]),a=r-o;return t.forEach((e=>{e[3]=(e[3]-o)/a})),t})(g),q.draw(h)};c.addEventListener("input",(e=>{i.innerHTML=+e.target.value+" <em>release to redraw</em>"}));c.addEventListener("change",(e=>E(+e.target.value)));const A=e=>{const t=r().domain([1,10]).range([e,10*e]);return Array(100).fill().map(((e,o)=>t(1+o/99*9)))},z=e=>{M=e,s.value=M,l.innerHTML=M,q.set({pointSize:A(M)})};s.addEventListener("input",(e=>z(+e.target.value)));const k=e=>{var t;S=e,u.value=S,d.innerHTML=S,q.set({opacity:(t=S,Array(10).fill().map(((e,o)=>(o+1)/10*t)))})};u.addEventListener("input",(e=>k(+e.target.value)));m.addEventListener("change",(e=>{q.set({lassoInitiator:e.target.checked})})),m.checked=q.get("lassoInitiator");p.addEventListener("click",(()=>{q.reset()})),q.set({colorBy:"category",pointColor:["#ff80cb","#57c7ff","#eee462"],sizeBy:"w",opacityBy:"w"}),z(M),k(S),E(g);
