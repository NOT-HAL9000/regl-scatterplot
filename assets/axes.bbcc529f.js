import{c as e,a as t,s as n}from"./utils.65df8bc0.js";import{l as a,s as o,a as r,b as c}from"./d3.475b3665.js";import"./vendor.de749451.js";const l=document.querySelector("#parent-wrapper"),s=document.querySelector("#canvas-wrapper"),i=document.querySelector("#canvas"),d=document.querySelector("#num-points"),u=document.querySelector("#num-points-value"),p=document.querySelector("#point-size"),m=document.querySelector("#point-size-value"),y=document.querySelector("#opacity"),g=document.querySelector("#opacity-value"),v=document.querySelector("#click-lasso-initiator"),S=document.querySelector("#reset"),h=document.querySelector("#export"),b=document.querySelector("#example-axes");b.setAttribute("class","active"),b.removeAttribute("href");const w=a().domain([0,42]),f=a().domain([0,4.2]),q=r(w),L=c(f),E=o(l).append("svg"),k=E.append("g"),z=E.append("g");E.node().style.position="absolute",E.node().style.top=0,E.node().style.left=0,E.node().style.width="100%",E.node().style.height="100%",E.node().style.pointerEvents="none",s.style.right="40px",s.style.bottom="20px";let{width:M,height:$}=s.getBoundingClientRect();k.attr("transform",`translate(0, ${$})`).call(q),z.attr("transform",`translate(${M}, 0)`).call(L),q.tickSizeInner(-$),L.tickSizeInner(-M);let x=[],I=1e5,C=2,H=.5,T=[];const j=e({canvas:i,pointSize:C,xScale:w,yScale:f,showReticle:!0,lassoInitiator:!0});t(j),h.addEventListener("click",(()=>n(j))),console.log(`Scatterplot v${j.get("version")}`),j.subscribe("select",(({points:e})=>{if(console.log("Selected:",e),T=e,1===T.length){const e=x[T[0]];console.log(`X: ${e[0]}\nY: ${e[1]}\nCategory: ${e[2]}\nValue: ${e[3]}`)}})),j.subscribe("deselect",(()=>{console.log("Deselected:",T),T=[]})),j.subscribe("view",(e=>{k.call(q.scale(e.xScale)),z.call(L.scale(e.yScale))})),j.subscribe("init",(()=>{k.call(q.scale(j.get("xScale"))),z.call(L.scale(j.get("yScale")))}),1);const A=()=>{({width:M,height:$}=s.getBoundingClientRect()),k.attr("transform",`translate(0, ${$})`).call(q),z.attr("transform",`translate(${M}, 0)`).call(L),q.tickSizeInner(-$),L.tickSizeInner(-M)};window.addEventListener("resize",A),window.addEventListener("orientationchange",A);const B=e=>{I=e,d.value=I,u.innerHTML=I,x=new Array(I).fill().map((()=>[2*Math.random()-1,2*Math.random()-1,Math.round(9*Math.random()),Math.random()])),j.draw(x)};d.addEventListener("input",(e=>{u.innerHTML=+e.target.value+" <em>release to redraw</em>"}));d.addEventListener("change",(e=>B(+e.target.value)));const R=e=>{C=e,p.value=C,m.innerHTML=C,j.set({pointSize:C})};p.addEventListener("input",(e=>R(+e.target.value)));const D=e=>{H=e,y.value=H,g.innerHTML=H,j.set({opacity:H})};y.addEventListener("input",(e=>D(+e.target.value)));v.addEventListener("change",(e=>{j.set({lassoInitiator:e.target.checked})})),v.checked=j.get("lassoInitiator");S.addEventListener("click",(()=>{j.reset()})),j.set({colorBy:"category",pointColor:["#d192b7","#6fb2e4","#eecb62","#56bf92","#dca237","#3a84cc","#c76526"]}),R(C),D(H),B(I);
